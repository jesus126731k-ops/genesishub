<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Génesis Hub V2</title>
<style>
    /* Estilos generales */
    body, html {margin:0; padding:0; font-family: Arial, sans-serif; overflow-x:hidden; background:#0a0a0a; color:#fff;}
    .section {width:100%; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; position:relative; text-align:center;}
    .hidden {display:none;}
    h1 {font-size:4em; margin:0;}
    h3 {font-size:1.2em; margin:10px 0;}
    button {padding:15px 30px; font-size:1.2em; cursor:pointer; border:none; border-radius:10px; transition: all 0.3s ease;}
    button:hover {transform:scale(1.1);}
    #keyBox {padding:10px; width:300px; text-align:center; border-radius:5px; border:none; font-size:1.2em;}
    #copyKeyBtn {margin-top:10px; background: #28a745; color:#fff;}
    #createKeyBtn {background: linear-gradient(45deg, #ff416c, #ff4b2b); color:#fff; margin-bottom:15px;}
    #tutorialBtn {background: linear-gradient(45deg, #1e90ff, #00bfff); color:#fff;}

    /* Logos de Discord */
    .discord-logos {position:absolute; bottom:20px; display:flex; gap:20px; justify-content:center; width:100%;}
    .discord-logos img {width:40px; height:40px; margin-right:10px;}
    .discord-user {font-size:1em; color:#fff; display:flex; align-items:center;}

    /* Animaciones de partículas primera sección */
    canvas {position:absolute; top:0; left:0; z-index:-1;}
</style>
</head>
<body>

<!-- SECCIÓN 1 -->
<div class="section" id="section1">
    <h1>Génesis Hub V2</h1>
    <h3>Made by Jesús and Alejandro</h3>
    <div class="discord-logos">
        <div class="discord-user"><img src="discord-logo1.png" alt="Discord"> jesusms13</div>
        <div class="discord-user"><img src="discord-logo2.png" alt="Discord"> scripman83</div>
    </div>
</div>

<!-- SECCIÓN 2 -->
<div class="section hidden" id="section2">
    <h1>Create Your Key</h1>
    <button id="createKeyBtn">Create Key</button>
    <button id="tutorialBtn">Tutorial</button>
    <h3>Thank you for choosing us</h3>
    <div class="discord-logos">
        <div class="discord-user"><img src="discord-logo1.png" alt="Discord"> jesusms13</div>
        <div class="discord-user"><img src="discord-logo2.png" alt="Discord"> scripman83</div>
    </div>
</div>

<!-- SECCIÓN 3 -->
<div class="section hidden" id="section3">
    <h1>Your Key</h1>
    <input type="text" id="keyBox" readonly>
    <button id="copyKeyBtn">Copy</button>
</div>

<script>
    // Manejo de secciones
    const section1 = document.getElementById("section1");
    const section2 = document.getElementById("section2");
    const section3 = document.getElementById("section3");
    const createBtn = document.getElementById("createKeyBtn");
    const tutorialBtn = document.getElementById("tutorialBtn");
    const copyBtn = document.getElementById("copyKeyBtn");
    const keyBox = document.getElementById("keyBox");

    // Primer pantalla: se oculta tras 10s
    setTimeout(() => {
        section1.classList.add("hidden");
        section2.classList.remove("hidden");
        animateSection2();
    }, 10000);

    // Tutorial button
    tutorialBtn.addEventListener("click", () => {
        window.open("YOUR_YOUTUBE_TUTORIAL_LINK", "_blank");
    });

    // Crear Key
    createBtn.addEventListener("click", async () => {
        try {
            const res = await fetch("/generar");
            const data = await res.json();
            keyBox.value = data.k;
            section2.classList.add("hidden");
            section3.classList.remove("hidden");
            animateSection3();
        } catch (err) {
            alert("Error generating key.");
            console.error(err);
        }
    });

    // Copiar key
    copyBtn.addEventListener("click", () => {
        if(keyBox.value){
            navigator.clipboard.writeText(keyBox.value)
            .then(() => alert("Key copied!"))
            .catch(err => console.error("Failed to copy key:", err));
        }
    });

    // Animaciones para sección 2
    function animateSection2(){
        section2.style.transform = "translateY(-20px)";
        section2.style.transition = "all 1s ease";
        setTimeout(()=>{section2.style.transform="translateY(0)";}, 50);
    }

    // Animaciones para sección 3
    function animateSection3(){
        section3.style.opacity=0;
        section3.style.transition="opacity 1.5s ease";
        setTimeout(()=>{section3.style.opacity=1;},50);
    }

    // PARTICULAS sección 1
    const canvas = document.createElement("canvas");
    document.body.appendChild(canvas);
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];
    for(let i=0;i<150;i++){
        particles.push({
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            r:Math.random()*2+1,
            dy:Math.random()*0.5+0.2
        });
    }
    function drawParticles(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="white";
        particles.forEach(p=>{
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
            ctx.fill();
            p.y += p.dy;
            if(p.y>canvas.height) p.y=0;
        });
        requestAnimationFrame(drawParticles);
    }
    drawParticles();

</script>
</body>
</html>
